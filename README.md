# Прогнозирование оттока клиентов.
1. Цели и задачи проекта.
Прогнозирование оттока клиентов – задача, в процессе решения которой предсказывается,
покинет ли клиент компанию, с какой интенсивностью клиенты будут прекращать
сотрудничество (возможно, даже переходить к конкуренту). Наработка новой клиентской базы
определённо стоит дороже, чем удержание текущих клиентов. В следствие этого возникает
вопрос: при каких условиях клиент продолжит пользоваться товарами и услугами, какую
оптимальную стратегию выбрать для этого? Прогнозирование оттока клиентов имеет особенно
большое значение для компаний в банковской сфере, телефонии и интернет-услуг. Требуется
проанализировать все соответствующие данные о клиентах и разработать надежную и точную
модель прогнозирования оттока клиентов, чтобы удерживать клиентов и формировать
стратегии по снижению показателей ухода клиентов. В плоскости подхода к проблеме, как к
задаче машинного обучения – это задача бинарной классификации: отток/не отток.
2. Методика измерения качества и критерий успеха.
Для задач бинарной классификации используется такая метрика как ROC-AUC кривая. Так как
выборка текущей задачи несбалансированная (отток - 7.44%, не отток - 92.56%), то такие
метрики как accuracy, precision, recall не будем использовать. Для решения задачи разделяем
данные на обучающую и тестовую выборку. Критерием успеха будет считаться увеличение
экономического эффекта на тестовой выборке после внедрения определённых условий и акций
для удержания клиента.
3. Техническое описание решения.
Pipeline:
а) Заполнение пропусков в данных нулями.
б) Преобразование данных категориального типа с помощью LabelEncoder.
в) Удаление признаков, в которых во всех строках одно и то же значение.
г) Обучение LGBMClassifier на настроенных оптимальных параметрах модели
Примечание. Помимо выбранных стратегий, были перепробованы следующие методики:
а) Балансировка выборки (UnderSampling/OverSampling).
б) Заполнение пропусков (средними значениями, модами, медианами).
в) Преобразование данных категориального типа (OneHotEncoder).
г) Регуляризация (Lasso, Ridge).
д) Обучение (LogicticRegression, RandomForest).
4. Оценка качества.
Модель оценивалась по ROC-AUC.
Для расчёта экономического эффекта проведён эксперимент.
3 группы клиентов:
а) Для которых мы применяем модель прогнозирования, а также меры по удержанию
клиентов.
б) Для которых применяем меры по удержанию.
в) Не делаем ничего.
Исходные данные:
a) Процент конверсии пользователей - 25%;
b) цена тарифного плана после окончания скидки 3500р в год;
c) затраты денег в среднем на удержание одного пользователя + затраты на работу
сотрудников на одного клиента;
d) предлагаем 30% скидку пользователям, склонных к оттоку;
e) Процент согласившихся пользователей, после мероприятий по удержанию 60%. Для
нужного нам процента конверсии обрезаем тестовую выборку в соотношении 1:4(отток/не
отток); 
расходы считаем как сумма скидки для удерживаемого клиента + затрата на звонок. В среднем
у сотрудника колл-центра уходит 15 минут на разговор, зарплата у сотрудника 30000р., т.е.
затрата на звонок = зарплата/рабочие_дни/рабочие_часы/минуты*время_звонка - 37.5 р.
5. Выводы.
Топ пользователей, склонных к оттоку согласно модели, которых оптимально выбрать для
проведения кампании по удержанию - примерно 6%. Таким образом, введённая модель
показывает неплохой экономический эффект. Экономически оправданным вложение средств в
улучшение качества модели будет только в том случае, когда сам датасет будет избавлен он
малоинформативных и/или компрометирующих параметров (выбросы, т.н.
ошибкипервого/второго рода). Нужно понять, так ли сильно увеличится прибыль, окупит ли
она ещё и затраты на улучшение качества.
